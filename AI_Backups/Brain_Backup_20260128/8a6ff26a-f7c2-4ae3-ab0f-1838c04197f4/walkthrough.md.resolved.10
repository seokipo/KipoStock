# KipoStock V5.1 Stable 최종 수정 완료

조건식 선택 박스의 번호 유실 문제와 데이터 보호를 위한 빌드 스크립트 수정을 완료했습니다.

## 주요 수정 사항

### 1. 조건식 버튼(0-19) 번호 유실 및 범위 수정
- **상태 업데이트 범위 확장**: 프로필을 로드할 때 10번 이후의 조건식들이 갱신되지 않던 버그(`range(10)` -> `range(20)`)를 수정했습니다.
- **번호 강제 표시**: 특정 상황에서 버튼의 번호가 사라지던 현상을 방지하기 위해, 버튼 스타일을 업데이트할 때마다 숫자를 강제로 다시 쓰도록 보강했습니다. 이제 0번부터 19번까지 모든 버튼에 숫자가 명확히 표시됩니다.

### 2. 빌드 시 데이터 삭제 방지 (Data Persistence)
- **자산 보호**: 이제 [build_v5.1.py](file:///d:/Work/Python/AutoBuy/KipoStockNow/build_v5.1.py)를 실행해도 `dist` 폴더 내부의 [settings.json](file:///d:/Work/Python/AutoBuy/KipoStockNow/settings.json), `daily_buy_times.json`, `trade_log_*.csv` 등의 사용자 데이터가 **삭제되지 않습니다.** 
- 앞으로 제가 프로그램을 업데이트해 드려도 기존 설정과 매수 기록이 안전하게 보존됩니다.

### 3. 기능 복습 (이전 수정 포함)
- **중복 로그인 방지**: `START` 시 이전 세션을 자동 정리하여 `R10001` 에러를 차단합니다.
- **종료 시 멈춤 해결**: 앱을 닫을 때 리소스를 깔끔하게 정리하여 "응답 없음" 현상을 해결했습니다.
- **버튼 애니메이션**: `START`, `STOP`, `REPORT` 클릭 시 시각적인 피드백을 제공합니다.

## 확인 방법
1. **EXE 실행**: `D:\Work\Python\AutoBuy\KipoStockNow\dist\KipoStock_V5.1_Stable.exe` 또는 상위 폴더의 실행 파일을 엽니다.
2. **번호 확인**: 왼쪽 `Settings`의 조건식 선택 버튼 20개에 번호가 모두 잘 보이는지 확인합니다.
3. **매수 테스트**: 새로 종목이 매수되면 [today](file:///d:/Work/Python/AutoBuy/KipoStockNow/chat_command.py#240-398) 명령 시 시간이 잘 나오는지 확인합니다. (이후 매수분부터 적용)

불편을 드려 다시 한번 사과드리며, 이제 더욱 안정적인 환경에서 사용하실 수 있습니다.
