# 오늘 리포트 정렬 및 시퀀스 자동화 고도화 계획

사용자 피드백을 반영하여 리포트의 시각적 정렬을 개선하고, "시퀀스 자동" 모드가 완전히 자동화(전환 알람 + 마지막 리포트 전송)되도록 수정합니다.

## 변경 사항

### 1. [오늘 리포트] 시간 데이터 정렬 개선
- **파일**: [chat_command.py](file:///d:/Work/Python/AutoBuy/KipoStockNow/chat_command.py)
- **내용**: 매수 시간이 없는 경우 `[--:--:--]`를 사용하여 10자리 길이를 고정하여 정렬을 맞춥니다.

### 2. [시퀀스 자동] 프로필 자동 전환 및 피드백 강화
- **파일**: [Kipo_GUI_main.py](file:///d:/Work/Python/AutoBuy/KipoStockNow/Kipo_GUI_main.py)
- **내용**: 
  - [load_settings_to_ui](file:///d:/Work/Python/AutoBuy/KipoStockNow/Kipo_GUI_main.py#1052-1121) 메서드 수정: 프로필 로드시 `Sequence Auto` 버튼 상태가 초기화되지 않도록 옵션 추가.
  - [on_start_clicked](file:///d:/Work/Python/AutoBuy/KipoStockNow/Kipo_GUI_main.py#691-705) 메서드 수정: `force=False` 파라미터를 추가하여, 이미 "RUNNING" 상태여도 강제로 엔진을 재시작(API 재등록 호출)할 수 있도록 개선.
  - [handle_end_time_event](file:///d:/Work/Python/AutoBuy/KipoStockNow/Kipo_GUI_main.py#1333-1385) 메서드 수정:
    - **프로필 전환 시**: 다음 프로필 로드 후 [on_start_clicked(force=True)](file:///d:/Work/Python/AutoBuy/KipoStockNow/Kipo_GUI_main.py#691-705)를 호출하여 새로운 조건식으로 API 재등록을 확실히 수행.
    - **로그 강화**: 전환 시작 시 시각적 구분을 위해 구분선과 함께 프로필 전환 로그 출력.
    - **최종 종료 시(3번 프로필)**: 매입 중단([stop](file:///d:/Work/Python/AutoBuy/KipoStockNow/rt_search.py#320-326))과 [today](file:///d:/Work/Python/AutoBuy/KipoStockNow/chat_command.py#240-398) 리포트 자동 전송이 병렬로 꼬이지 않도록 순서 보완.

## 검증 계획
1. [today](file:///d:/Work/Python/AutoBuy/KipoStockNow/chat_command.py#240-398) 명령어의 `[--:--:--]` 적용 확인.
2. 시퀀스 모드에서 프로필 1 -> 2 전환 시 소음 발생 및 UI(버튼 등) 업데이트 확인.
3. 프로필 3 종료 시 자동 [today](file:///d:/Work/Python/AutoBuy/KipoStockNow/chat_command.py#240-398) 리포트 확인.
