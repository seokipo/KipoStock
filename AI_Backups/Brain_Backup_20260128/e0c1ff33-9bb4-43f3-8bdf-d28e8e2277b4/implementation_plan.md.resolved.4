# Strategy Sync & Startup Message Fix

The user reported that condition-specific strategies (e.g., Amount) are not being applied correctly despite being set in the UI. This is because loaded profile settings are not synchronized with the root [settings.json](file:///d:/Work/Python/AutoBuy/KipoBuy4.0/settings.json) file which the trading engine reads. Additionally, the user requested a startup message indicating which profile is active.

## Proposed Changes

### [Kipo_GUI_main.py](file:///d:/Work/Python/AutoBuy/KipoBuy4.0/Kipo_GUI_main.py)

#### [MODIFY] [on_start_clicked](file:///d:/Work/Python/AutoBuy/KipoBuy4.0/Kipo_GUI_main.py#588-610)
- Call `self.save_settings()` (with no index) at the beginning of the start sequence. This ensures all current UI values (including strategies, amounts, etc.) are written to the root [settings.json](file:///d:/Work/Python/AutoBuy/KipoBuy4.0/settings.json) and synchronized with the background worker.
- Add a log message showing the active profile index (if one is loaded).

#### [MODIFY] [load_settings_to_ui](file:///d:/Work/Python/AutoBuy/KipoBuy4.0/Kipo_GUI_main.py#910-973)
- Ensure `self.current_profile_idx` is correctly maintained (already seems to be, but will verify).

## Verification Plan

### Manual Verification
- Load Profile 1 (with Condition 0 set to 'Amount').
- Click 'START'.
- Verify log message shows "프로필 1번으로 감시를 시작합니다" (or similar).
- Check [settings.json](file:///d:/Work/Python/AutoBuy/KipoBuy4.0/settings.json) to ensure root `condition_strategies` now reflects the UI state.
- (In a real trade) Verify that a trade triggered by condition 0 uses the 'Amount' logic.
