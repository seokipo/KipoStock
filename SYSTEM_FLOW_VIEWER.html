<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ğŸš€ KipoStock GOLD í”Œë¡œìš°ì°¨íŠ¸ ë·°ì–´</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; background-color: #f4f7f6; color: #333; padding: 40px; }
        .container { max-width: 1000px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        h1 { color: #f1c40f; text-align: center; font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
        h2 { border-left: 5px solid #f1c40f; padding-left: 15px; color: #2c3e50; margin-top: 50px; }
        .mermaid { background: #fff; padding: 20px; border-radius: 10px; border: 1px solid #eee; margin-top: 20px; }
        .tip { background: #fff9e6; padding: 15px; border-radius: 10px; border-left: 5px solid #ffcc00; margin-bottom: 30px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ KipoStock ì‹œìŠ¤í…œ í†µí•© íë¦„ë„</h1>
        
        <div class="tip">
            <strong>ğŸ’¡ ìê¸°ì•¼!</strong> ì´ íŒŒì¼ì€ ë¸Œë¼ìš°ì €(í¬ë¡¬ ë“±)ì—ì„œ ë°”ë¡œ ì—´ë©´ ì˜ˆìœ ê·¸ë¦¼ìœ¼ë¡œ ë³´ì—¬! <br>
            ì½”ë“œ ëŒ€ì‹  ê·¸ë¦¼ìœ¼ë¡œ ìš°ë¦¬ ë¡œì¼“ì˜ ì‹¬ì¥ì„ êµ¬ê²½í•´ë´! â¤ï¸
        </div>

        <h2>1. ğŸŒ ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡° (High-Level)</h2>
        <div class="mermaid">
        graph LR
            User([ì‚¬ìš©ì]) <--> GUI["ğŸ–¥ï¸ GUI (KipoWindow)"]
            GUI <--> Signals["ğŸ“¡ ì‹œê·¸ë„ (WorkerSignals)"]
            Signals <--> Async["âš™ï¸ ì „ë‹´ ì—”ì§„ (AsyncWorker)"]
            Async <--> Chat["ğŸ§  ì§€íœ˜ê´€ (ChatCommand)"]
            Chat <--> APIs["ğŸ¦ í‚¤ì›€ API / í…”ë ˆê·¸ë¨"]
        </div>

        <h2>2. ğŸš¦ í”„ë¡œê·¸ë¨ í•µì‹¬ ë¼ì´í”„ì‚¬ì´í´</h2>
        <div class="mermaid">
        sequenceDiagram
            participant U as ì‚¬ìš©ì
            participant G as GUI (ë©”ì¸ í™”ë©´)
            participant W as AsyncWorker (ë°±ê·¸ë¼ìš´ë“œ)
            participant C as ChatCommand (ë¡œì§ ì œì–´)

            U->>G: í”„ë¡œê·¸ë¨ ì‹¤í–‰
            G->>W: ë¹„ë™ê¸° ë£¨í”„ ê°€ë™
            W->>C: ChatCommand ê°ì²´ ìƒì„±
            C-->>G: "ì¤€ë¹„ ì™„ë£Œ (READY)" ì‹ í˜¸ ì „ì†¡
            
            U->>G: [START] í´ë¦­
            G->>C: ë§¤ë§¤ ì‹œì‘ ëª…ë ¹
            C->>C: í† í° ê°±ì‹  & ê³„ì¢Œ ë™ê¸°í™”
            C->>C: ì‹¤ì‹œê°„ ê°ì‹œ(WS) & ë§¤ë„ ë£¨í”„ ì‹œì‘
            C-->>G: "ì‘ë™ ì¤‘ (RUNNING)" ì—…ë°ì´íŠ¸
            
            U->>G: [STOP] í´ë¦­
            G->>C: ë§¤ë§¤ ì¤‘ì§€ ëª…ë ¹
            C->>C: ëª¨ë“  ë£¨í”„ ì •ì§€ & ë¦¬ì†ŒìŠ¤ ì •ë¦¬
            C-->>G: "ëŒ€ê¸° (READY)" ìƒíƒœ ë³µê·€
        </div>

        <h2>3. ğŸŸ¢ ë§¤ìˆ˜ ì‹ í˜¸ ì²˜ë¦¬ (Buy Logic)</h2>
        <div class="mermaid">
        flowchart TD
            Signal[ì‹¤ì‹œê°„ ì¡°ê±´ ì‹ í˜¸ ìˆ˜ì‹ ] --> Filter{ìœ íš¨í•œ ì‹ í˜¸ì¸ê°€?}
            Filter -- NO --> Skip[ë¬´ì‹œ]
            Filter -- YES --> CheckHolding{ì´ë¯¸ ê°€ì§„ ì¢…ëª©ì¸ê°€?}
            CheckHolding -- YES --> Skip
            CheckHolding -- NO --> CheckLimit{ìµœëŒ€ ì¢…ëª©ìˆ˜ ì´ˆê³¼?}
            CheckLimit -- YES --> Skip
            CheckLimit -- NO --> Order[ë§¤ìˆ˜ ì£¼ë¬¸ ì‹¤í–‰!]
            Order --> Notify[í…”ë ˆê·¸ë¨ ì•Œë¦¼ & ë¡œê·¸ ê¸°ë¡]
        </div>

        <h2>4. ğŸ”´ ë§¤ë„ ê°ì‹œ ë£¨í”„ (Sell Logic)</h2>
        <div class="mermaid">
        flowchart TD
            Loop[0.1ì´ˆë§ˆë‹¤ ë¬´í•œ ë°˜ë³µ] --> Scan[ë³´ìœ  ì¢…ëª© ìˆ˜ìµë¥  ìŠ¤ìº”]
            Scan --> Target{ìµì ˆ/ì†ì ˆ ë²”ìœ„ ë„ë‹¬?}
            Target -- NO --> Next[ë‹¤ìŒ ì¢…ëª©ìœ¼ë¡œ íŒ¨ìŠ¤]
            Target -- YES --> SellOrder[ë§¤ë„ ì£¼ë¬¸ ì‹¤í–‰!]
            SellOrder --> Report[ì¼ì¼ ì •ì‚° ê¸°ë¡ & ì•Œë¦¼]
        </div>
    </div>

    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
</body>
</html>
